<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Juegos para Aprender Espa√±ol</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    #root {
      width: 100%;
      max-width: 1200px;
    }

    .menu-container {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: slideIn 0.5s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 10px;
      font-size: 2.5em;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-size: 1.1em;
    }

    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .game-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .game-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .game-card h3 {
      margin-bottom: 10px;
      font-size: 1.3em;
    }

    .game-card p {
      margin-bottom: 15px;
      font-size: 0.95em;
      opacity: 0.9;
    }

    .game-card button {
      width: 100%;
      padding: 10px;
      background: white;
      color: #667eea;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .game-card button:hover {
      background: #f0f0f0;
    }

    .admin-btn {
      display: block;
      margin: 0 auto;
      padding: 15px 30px;
      background: #ff6b6b;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1em;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .admin-btn:hover {
      background: #ff5252;
      transform: scale(1.05);
    }

    .loading {
      background: white;
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #667eea;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div id="root">
    <div class="loading">
      <div class="spinner"></div>
      <p>Cargando juegos...</p>
    </div>
  </div>

  <!-- React –∏–∑ CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Socket.io -->
  <script src="/socket.io/socket.io.js"></script>

  <!-- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
  <script>
    const { useState, useEffect } = React;
    const e = React.createElement;

    // –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
    function MainMenu({ onSelectGame, onAdminClick }) {
      const games = [
        { id: 'tabu', name: 'ü§ê Tab√∫', desc: '–û–±—ä—è—Å–Ω—è–π —Å–ª–æ–≤–æ –±–µ–∑ –∑–∞–ø—Ä–µ—Ç–Ω—ã—Ö —Å–ª–æ–≤' },
        { id: 'conjugacion', name: 'üìù –°–ø—Ä—è–∂–µ–Ω–∏–µ –≥–ª–∞–≥–æ–ª–æ–≤', desc: '–û–¥–∏–Ω —Å–ø—Ä—è–≥–∞–µ—Ç, –¥—Ä—É–≥–æ–π –æ—Ç–≤–µ—á–∞–µ—Ç' },
        { id: 'palabrasPorTema', name: '‚ö° –°–ª–æ–≤–∞ –ø–æ —Ç–µ–º–µ (30 —Å–µ–∫)', desc: '–°–∫–æ–ª—å–∫–æ —Å–ª–æ–≤ —Ç—ã –∑–Ω–∞–µ—à—å?' },
        { id: 'dialogos', name: 'üí¨ –î–∏–∞–ª–æ–≥–∏ –≤—Ä–µ–º—ë–Ω', desc: '–ü—Ä–∞–∫—Ç–∏–∫–∞ past/present/subjuntivo' },
        { id: 'roleplay', name: 'üé≠ Roleplay Barcelona', desc: '–í –∫–∞—Ñ–µ, –º–∞–≥–∞–∑–∏–Ω–µ, –Ω–∞ —É–ª–∏—Ü–µ' },
        { id: 'preguntas', name: '‚ùì –õ–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã', desc: '–û—Ç–≤–µ—á–∞–π –Ω–∞ –ª–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã' },
        { id: 'encadenamiento', name: 'üîó –¶–µ–ø–æ—á–∫–∞ —Å–ª–æ–≤', desc: '–ü–æ—Å–ª–µ–¥–Ω—è—è –±—É–∫–≤–∞ = –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞' },
        { id: 'adivinanza', name: 'ü§î –£–≥–∞–¥–∞–π —Å–ª–æ–≤–æ', desc: '–£–≥–∞–¥—ã–≤–∞–Ω–∏–µ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é' },
        { id: 'batalla', name: '‚öîÔ∏è Battaglia –≥–ª–∞–≥–æ–ª–æ–≤', desc: '–ö—Ç–æ –±–æ–ª—å—à–µ –≥–ª–∞–≥–æ–ª–æ–≤ –≤—Å–ø–æ–º–Ω–∏—Ç?' },
        { id: 'charadas', name: 'üé™ Charadas', desc: '–ú–∏–º–∏–∫–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –±–µ–∑ —Å–ª–æ–≤–∞' }
      ];

      return e('div', { className: 'menu-container' },
        e('h1', null, 'üéÆ Juegos para aprender espa√±ol'),
        e('p', { className: 'subtitle' }, 'Elige un juego para jugar con tu compa√±ero'),
        
        e('div', { className: 'games-grid' },
          games.map(game => 
            e('div', { key: game.id, className: 'game-card', onClick: () => onSelectGame(game.id) },
              e('h3', null, game.name),
              e('p', null, game.desc),
              e('button', null, 'Jugar')
            )
          )
        ),

        e('button', { className: 'admin-btn', onClick: onAdminClick }, 'üë®‚Äçüè´ Administrador')
      );
    }

    // –ü—Ä–æ—Å—Ç–æ–π —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏
    function LoadingScreen() {
      return e('div', { className: 'loading' },
        e('div', { className: 'spinner' }),
        e('p', null, 'Conectando al servidor...')
      );
    }

    // –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    function App() {
      const [socket, setSocket] = useState(null);
      const [connected, setConnected] = useState(false);

      useEffect(() => {
        const newSocket = io();
        setSocket(newSocket);

        newSocket.on('connect', () => {
          setConnected(true);
          console.log('‚úÖ Conectado al servidor');
        });

        newSocket.on('disconnect', () => {
          setConnected(false);
        });

        return () => newSocket.close();
      }, []);

      if (!connected) {
        return e(LoadingScreen);
      }

      return e(MainMenu, { 
        onSelectGame: (type) => alert(`Seleccionaste: ${type}\n\n(Pr√≥ximamente la funcionalidad completa)`),
        onAdminClick: () => alert('Admin panel (pr√≥ximamente)')
      });
    }

    // Renderizar
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(e(App));
  </script>
</body>
</html>
